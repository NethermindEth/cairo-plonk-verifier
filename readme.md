<div align="center">
    <h1>Cairo Plonk Verifier</h1>
</div>

<br />

## About 
Standard Plonk Verifier written in Cairo.
- This verifier is keccak based and currently supports the BN-254 curve. 
- This verifier also includes a pairing function that does not need extra prover side computations. 
- The field and group operations use towered fields with built-in circuits generated by the cairo circuit code generator. 

Cairo Circuit Code Generator
- A helper program written in Rust to generate large and complex circuits to be used inline within the verifier.

CLI Tool
- A tool written in Rust to help facilitate reading the verifier inputs (proof, verification key, public signals) to call the smart contract. The tool can read in json formats similar to the output of [snarkjs](https://github.com/iden3/snarkjs).

Contract
- A Starknet Smart Contract that implements the verifier.
- Within the Starknet limits for contract deployment. 

## Prerequisites
Contract
- [Scarb 2.9.2](https://docs.swmansion.com/scarb/download)
```bash
curl --proto '=https' --tlsv1.2 -sSf https://docs.swmansion.com/scarb/install.sh | sh -s -- -v 2.9.2
```

Testing
- [snforge 0.30.0](https://github.com/foundry-rs/starknet-foundry)
```bash
curl -L https://raw.githubusercontent.com/software-mansion/universal-sierra-compiler/master/scripts/install.sh | sh
```

## Ways to Use
- The easiest way will be to call the deployed contract through Starknet's syscalls (see example).
- Otherwise, for testing purposes or development purposes, import the library and call the exposed verify function.

## Deployed Contract Addresses
| Type      | Network   | Address        |
|-----------|-----------|----------------|
| Verifier  | Sepolia   |                |
| Pairing   | Sepolia   |                |

## Benchmarks
| Circuit            | Steps         |
|--------------------|---------------|
| Fq12 Square        | 506           |
| Fq12 Multiply      | 686           |
| BN254 Pairing n=1  | 528143        |
| BN254 Pairing n=2  | 1056340       |
| BN254 Pairing n=2  | 1056340       |
| Final Verification | 2998910       |

## Acknowledgements
- Thank you to Shramee's [pairing library](https://github.com/shramee/cairo_pairing) written in Cairo for providing the base towered approach.
- Thank you to Feltroid for helping to identify the bytecode limit for Starknet contracts. 